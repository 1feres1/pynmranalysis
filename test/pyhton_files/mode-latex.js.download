ace.define("ace/mode/latex_highlight_rules",[],function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("./text_highlight_rules").TextHighlightRules,s=function(){this.$rules={start:[{token:"comment",regex:"%.*$"},{token:["keyword","lparen","variable.parameter","rparen","lparen","storage.type","rparen"],regex:"(\\\\(?:documentclass|usepackage|input))(?:(\\[)([^\\]]*)(\\]))?({)([^}]*)(})"},{token:["keyword","lparen","variable.parameter","rparen"],regex:"(\\\\(?:label|(?:eq|page|v|c|C)?ref|cite(?:[^{]*)))(?:({)([^}]*)(}))?"},{token:["storage.type","lparen","variable.parameter","rparen"],regex:"(\\\\begin)({)(verbatim)(})",next:"verbatim"},{token:["storage.type","lparen","variable.parameter","rparen"],regex:"(\\\\begin)({)(lstlisting)(})",next:"lstlisting"},{token:["storage.type","lparen","variable.parameter","rparen"],regex:"(\\\\(?:begin|end))({)([\\w*]*)(})"},{token:"storage.type",regex:/\\verb\b\*?/,next:[{token:["keyword.operator","string","keyword.operator"],regex:"(.)(.*?)(\\1|$)|",next:"start"}]},{token:"storage.type",regex:"\\\\[a-zA-Z]+"},{token:"lparen",regex:"[[({]"},{token:"rparen",regex:"[\\])}]"},{token:"constant.character.escape",regex:"\\\\[^a-zA-Z]?"},{token:"string",regex:"\\${1,2}",next:"equation"}],equation:[{token:"comment",regex:"%.*$"},{token:"string",regex:"\\${1,2}",next:"start"},{token:"constant.character.escape",regex:"\\\\(?:[^a-zA-Z]|[a-zA-Z]+)"},{token:"error",regex:"^\\s*$",next:"start"},{defaultToken:"string"}],verbatim:[{token:["storage.type","lparen","variable.parameter","rparen"],regex:"(\\\\end)({)(verbatim)(})",next:"start"},{defaultToken:"text"}],lstlisting:[{token:["storage.type","lparen","variable.parameter","rparen"],regex:"(\\\\end)({)(lstlisting)(})",next:"start"},{defaultToken:"text"}]},this.normalizeRules()};r.inherits(s,i),t.LatexHighlightRules=s}),ace.define("ace/mode/folding/latex",[],function(e,t,n){"use strict";var r=e("../../lib/oop"),i=e("./fold_mode").FoldMode,s=e("../../range").Range,o=e("../../token_iterator").TokenIterator,u={"\\subparagraph":1,"\\paragraph":2,"\\subsubsubsection":3,"\\subsubsection":4,"\\subsection":5,"\\section":6,"\\chapter":7,"\\part":8,"\\begin":9,"\\end":10},a=t.FoldMode=function(){};r.inherits(a,i),function(){this.foldingStartMarker=/^\s*\\(begin)|\s*\\(part|chapter|(?:sub)*(?:section|paragraph))\b|{\s*$/,this.foldingStopMarker=/^\s*\\(end)\b|^\s*}/,this.getFoldWidgetRange=function(e,t,n){var r=e.doc.getLine(n),i=this.foldingStartMarker.exec(r);if(i)return i[1]?this.latexBlock(e,n,i[0].length-1):i[2]?this.latexSection(e,n,i[0].length-1):this.openingBracketBlock(e,"{",n,i.index);var i=this.foldingStopMarker.exec(r);if(i)return i[1]?this.latexBlock(e,n,i[0].length-1):this.closingBracketBlock(e,"}",n,i.index+i[0].length)},this.latexBlock=function(e,t,n,r){var i={"\\begin":1,"\\end":-1},u=new o(e,t,n),a=u.getCurrentToken();if(!a||a.type!="storage.type"&&a.type!="constant.character.escape")return;var f=a.value,l=i[f],c=function(){var e=u.stepForward(),t=e.type=="lparen"?u.stepForward().value:"";return l===-1&&(u.stepBackward(),t&&u.stepBackward()),t},h=[c()],p=l===-1?u.getCurrentTokenColumn():e.getLine(t).length,d=t;u.step=l===-1?u.stepBackward:u.stepForward;while(a=u.step()){if(!a||a.type!="storage.type"&&a.type!="constant.character.escape")continue;var v=i[a.value];if(!v)continue;var m=c();if(v===l)h.unshift(m);else if(h.shift()!==m||!h.length)break}if(h.length)return;l==1&&(u.stepBackward(),u.stepBackward());if(r)return u.getCurrentTokenRange();var t=u.getCurrentTokenRow();return l===-1?new s(t,e.getLine(t).length,d,p):new s(d,p,t,u.getCurrentTokenColumn())},this.latexSection=function(e,t,n){var r=new o(e,t,n),i=r.getCurrentToken();if(!i||i.type!="storage.type")return;var a=u[i.value]||0,f=0,l=t;while(i=r.stepForward()){if(i.type!=="storage.type")continue;var c=u[i.value]||0;if(c>=9){f||(l=r.getCurrentTokenRow()-1),f+=c==9?1:-1;if(f<0)break}else if(c>=a)break}f||(l=r.getCurrentTokenRow()-1);while(l>t&&!/\S/.test(e.getLine(l)))l--;return new s(t,e.getLine(t).length,l,e.getLine(l).length)}}.call(a.prototype)}),ace.define("ace/mode/behaviour/latex",[],function(e,t,n){"use strict";var r=e("../../lib/oop"),i=e("../behaviour").Behaviour,s=e("../../token_iterator").TokenIterator,o=e("../../lib/lang"),u=["text","paren.rparen","punctuation.operator"],a=["text","paren.rparen","punctuation.operator","comment"],f,l={},c=function(e){var t=-1;e.multiSelect&&(t=e.selection.index,l.rangeCount!=e.multiSelect.rangeCount&&(l={rangeCount:e.multiSelect.rangeCount}));if(l[t])return f=l[t];f=l[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},h=function(e,t,n,r){var i=e.end.row-e.start.row;return{text:n+t+r,selection:[0,e.start.column+1,i,e.end.column+(i?0:1)]}},p=function(){this.add("braces","insertion",function(e,t,n,r,i){if(n.completer&&n.completer.popup&&n.completer.popup.isOpen)return;var s=n.getCursorPosition(),o=r.doc.getLine(s.row),u=o[s.column-1];if(u==="\\")return;if(i=="{"){c(n);var a=n.getSelectionRange(),f=r.doc.getTextRange(a);if(f!==""&&n.getWrapBehavioursEnabled())return h(a,f,"{","}");if(p.isSaneInsertion(n,r))return p.recordAutoInsert(n,r,"}"),{text:"{}",selection:[1,1]}}else if(i=="}"){c(n);var l=o.substring(s.column,s.column+1);if(l=="}"){var d=r.$findOpeningBracket("}",{column:s.column+1,row:s.row});if(d!==null&&p.isAutoInsertedClosing(s,o,i))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("braces","deletion",function(e,t,n,r,i){if(n.completer&&n.completer.popup&&n.completer.popup.isOpen)return;var s=r.doc.getTextRange(i);if(!i.isMultiLine()&&s=="{"){c(n);var o=r.doc.getLine(i.start.row),u=o.substring(i.start.column+1,i.start.column+2);if(u=="}")return i.end.column++,i}}),this.add("brackets","insertion",function(e,t,n,r,i){if(n.completer&&n.completer.popup&&n.completer.popup.isOpen)return;var s=n.getCursorPosition(),o=r.doc.getLine(s.row),u=o[s.column-1];if(u==="\\")return;if(i=="["){c(n);var a=n.getSelectionRange(),f=r.doc.getTextRange(a);if(f!==""&&n.getWrapBehavioursEnabled())return h(a,f,"[","]");if(p.isSaneInsertion(n,r))return p.recordAutoInsert(n,r,"]"),{text:"[]",selection:[1,1]}}else if(i=="]"){c(n);var l=o.substring(s.column,s.column+1);if(l=="]"){var d=r.$findOpeningBracket("]",{column:s.column+1,row:s.row});if(d!==null&&p.isAutoInsertedClosing(s,o,i))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(e,t,n,r,i){if(n.completer&&n.completer.popup&&n.completer.popup.isOpen)return;var s=r.doc.getTextRange(i);if(!i.isMultiLine()&&s=="["){c(n);var o=r.doc.getLine(i.start.row),u=o.substring(i.start.column+1,i.start.column+2);if(u=="]")return i.end.column++,i}}),this.add("dollars","insertion",function(e,t,n,r,i){var s=n.getCursorPosition(),o=r.doc.getLine(s.row),u=o[s.column-1];if(u==="\\")return;if(i=="$"){if(this.lineCommentStart&&this.lineCommentStart.indexOf(i)!=-1)return;c(n);var a=i,f=n.getSelectionRange(),l=r.doc.getTextRange(f);if(l!==""&&l!=="$"&&n.getWrapBehavioursEnabled())return h(f,l,a,a);if(!l){var p=o.substring(s.column-1,s.column),d=o.substring(s.column,s.column+1),v=r.getTokenAt(s.row,s.column),m=r.getTokenAt(s.row,s.column+1),g=v&&/string|escape/.test(v.type),y=!m||/string|escape/.test(m.type),b;if(d==a)b=g!==y,b&&/string\.end/.test(m.type)&&(b=!1);else{if(g&&!y)return null;if(g&&y)return null;var w=r.$mode.tokenRe;w.lastIndex=0;var E=w.test(p);w.lastIndex=0;var S=w.test(p);if(E||S)return null;if(d&&!/[\s;,.})\]\\]/.test(d))return null;b=!0}return{text:b?a+a:"",selection:[1,1]}}}}),this.add("dollars","deletion",function(e,t,n,r,i){var s=r.doc.getTextRange(i);if(!i.isMultiLine()&&s=="$"){c(n);var o=r.doc.getLine(i.start.row),u=o.substring(i.start.column+1,i.start.column+2);if(u==s)return i.end.column++,i}})};p.isSaneInsertion=function(e,t){var n=e.getCursorPosition(),r=new s(t,n.row,n.column);if(!this.$matchTokenType(r.getCurrentToken()||"text",u)){var i=new s(t,n.row,n.column+1);if(!this.$matchTokenType(i.getCurrentToken()||"text",u))return!1}return r.stepForward(),r.getCurrentTokenRow()!==n.row||this.$matchTokenType(r.getCurrentToken()||"text",a)},p.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},p.recordAutoInsert=function(e,t,n){var r=e.getCursorPosition(),i=t.doc.getLine(r.row);this.isAutoInsertedClosing(r,i,f.autoInsertedLineEnd[0])||(f.autoInsertedBrackets=0),f.autoInsertedRow=r.row,f.autoInsertedLineEnd=n+i.substr(r.column),f.autoInsertedBrackets++},p.isAutoInsertedClosing=function(e,t,n){return f.autoInsertedBrackets>0&&e.row===f.autoInsertedRow&&n===f.autoInsertedLineEnd[0]&&t.substr(e.column)===f.autoInsertedLineEnd},p.popAutoInsertedClosing=function(){f.autoInsertedLineEnd=f.autoInsertedLineEnd.substr(1),f.autoInsertedBrackets--},r.inherits(p,i),t.LatexBehaviour=p}),ace.define("ace/mode/latex",[],function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("./text").Mode,s=e("./latex_highlight_rules").LatexHighlightRules,o=e("./folding/latex").FoldMode,u=e("../range").Range,a=e("ace/worker/worker_client").WorkerClient,f=e("./behaviour/latex").LatexBehaviour,l=function(e){var t=e.getDocument(),n=e.getSelection(),r=n.lead,i={},s=[],o=[],f=null,l=!1,c=!0,h=new a(["ace"],"ace/mode/latex_worker","LatexWorker");h.attachToDocument(t);var p=t.on("change",function(){l=!0,f&&(clearTimeout(f),f=null)}),d=n.on("changeCursor",function(){if(l)return;f=setTimeout(function(){v({cursorMoveOnly:!0}),s=[],f=null},100)}),v=function(a){a||(a={});var f=a.cursorMoveOnly,l=[],h={},p=n.getCursor(),d=e.getLength()-1,v=d>0?e.getLine(d).length:0,m=p.row==d&&p.column===v;s=[];for(var g=0,y=o.length;g<y;g++){var b=o[g],w=0,E=new u(b.start_row,b.start_col,b.end_row,b.end_col),S=E.insideEnd(p.row,p.column),x=E.isStart(p.row,p.column-1),T=E.isEnd(p.row,p.column);if(b.suppressIfEditing&&(x||T)){s.push(E),b.suppressed||w++,b.suppressed=!0;continue}var N=!1;for(var C=0,k=s.length;C<k;C++){var L=s[C];if(L.intersects(E)){N=!0;break}}if(N){b.suppressed||w++,b.suppressed=!0;continue}b.suppressed&&w++,b.suppressed=!1,l.push(b);if(b.type==="info")continue;var A=E.toString()+(S?"+cursor":"");h[A]={hint:b,cursorInRange:S,range:E}}for(A in h)if(!i[A]){var O=h[A].range;S=h[A].cursorInRange,b=h[A].hint;var M=b.row===b.start_row&&b.column===b.start_col,_=S&&!M&&!m,D=S&&M&&!m,P=_?r:t.createAnchor(O.start),H=D?r:t.createAnchor(O.end),B=new u;B.start=P,B.end=H;var j="ace_error-marker";b.type==="warning"&&(j="ace_highlight-marker"),B.id=e.addMarker(B,j,"text"),i[A]=B}for(A in i)h[A]||(B=i[A],B.start!==r&&B.start.detach(),B.end!==r&&B.end.detach(),e.removeMarker(B.id),delete i[A]);if(!f||w)if(c){if(l.length>0){var F=e.getAnnotations();e.setAnnotations(F.concat(l))}c=!1}else e.setAnnotations(l)};return h.on("lint",function(e){l&&(l=!1),o=e.data.errors,o.length>100&&(o=o.slice(0,100)),v()}),h.on("terminate",function(){f&&(clearTimeout(f),f=null),t.off("change",p),n.off("changeCursor",d);for(var u in i){var a=i[u];a.start!==r&&a.start.detach(),a.end!==r&&a.end.detach(),e.removeMarker(a.id)}i={},o=[],s=[],e.clearAnnotations()}),h},c=function(){this.HighlightRules=s,this.foldingRules=new o,this.$behaviour=new f,this.createWorker=l};r.inherits(c,i),function(){this.type="text",this.lineCommentStart="%",this.$id="ace/mode/latex"}.call(c.prototype),t.Mode=c});                (function() {
                    ace.require(["ace/mode/latex"], function(m) {
                        if (typeof module == "object" && typeof exports == "object" && module) {
                            module.exports = m;
                        }
                    });
                })();
            